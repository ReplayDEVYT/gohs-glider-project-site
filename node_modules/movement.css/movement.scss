@mixin bounce {
  animation-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
}

html {
  [data-m] {
    animation-fill-mode: forwards;
    animation-duration: 1.5s;
    animation-delay: 0;
    animation-timing-function: ease-out;
  }

  // Bounce
  @keyframes bounce-up {
    from {opacity: 0; transform: translateY(2rem)}
    to {opacity: 1; transform: translateY(0)}
  }
  [data-m="bounce-up"] {
    @include bounce;
    animation-name: bounce-up;
    transform: translateY(2rem);
    opacity: 0;
  }
  @keyframes bounce-down {
    from {opacity: 0; transform: translateY(-2rem)}
    to {opacity: 1; transform: translateY(0)}
  }
  [data-m="bounce-down"] {
    @include bounce;
    animation-name: bounce-down;
    transform: translateY(-2rem);
    opacity: 0;
  }
  @keyframes bounce-right {
    from {opacity: 0; transform: translateX(-2rem)}
    to {opacity: 1; transform: translateX(0)}
  }
  [data-m="bounce-right"] {
    @include bounce;
    animation-name: bounce-right;
    transform: translateX(-2rem);
    opacity: 0;
  }
  @keyframes bounce-left {
    from {opacity: 0; transform: translateX(2rem)}
    to {opacity: 1; transform: translateX(0)}
  }
  [data-m="bounce-left"] {
    @include bounce;
    animation-name: bounce-left;
    transform: translateX(2rem);
    opacity: 0;
  }

  // Reveal
  @keyframes reveal {
    from {clip-path: circle(0% at 50% 50%);}
    to {clip-path: circle(150% at 50% 50%);}
  }
  [data-m="reveal"] {
    animation-name: reveal;
    clip-path: circle(0% at 50% 50%);
  }
  @keyframes reveal-up {
    from {clip-path: polygon(0 100%, 100% 100%, 100% 100%, 0% 100%);}
    to {clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);}
  }
  [data-m="reveal-up"] {
    animation-name: reveal-up;
    clip-path: polygon(0 100%, 100% 100%, 100% 100%, 0% 100%);
  }
  @keyframes reveal-down {
    from {clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);}
    to {clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);}
  }
  [data-m="reveal-down"] {
    animation-name: reveal-down;
    clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
  }
  @keyframes reveal-right {
    from {clip-path: polygon(0 0, 0 0, 0 100%, 0% 100%);}
    to {clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);}
  }
  [data-m="reveal-right"] {
    animation-name: reveal-right;
    clip-path: polygon(0 0, 0 0, 0 100%, 0% 100%);
  }
  @keyframes reveal-left {
    from {clip-path: polygon(100% 0, 100% 0, 100% 100%, 100% 100%);}
    to {clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);}
  }
  [data-m="reveal-left"] {
    animation-name: reveal-left;
    clip-path: polygon(100% 0, 100% 0, 100% 100%, 100% 100%);
  }

  // Rotate 
  @keyframes scale {
    from {transform: scale(0.5); opacity: 0;}
    to {transform: scale(1); opacity: 1;}
  }
  [data-m="scale"] {
    animation-name: scale;
    transform: scale(0.5);
    opacity: 0;
  }
  @keyframes scale-up {
    from {transform: translateY(3rem) scale(0.5); opacity: 0;}
    to {transform: translateY(0)  scale(1); opacity: 1;}
  }
  [data-m="scale-up"] {
    animation-name: scale-up;
    transform: translateY(3rem) scale(0.5);
    opacity: 0;
  }
  @keyframes scale-down {
    from {transform: translateY(-3rem) scale(0.5); opacity: 0;}
    to {transform: translateY(0)  scale(1); opacity: 1;}
  }
  [data-m="scale-down"] {
    animation-name: scale-down;
    transform: translateY(-3rem) scale(0.5);
    opacity: 0;
  }
  @keyframes scale-left {
    from {transform: rotate(10deg) translateY(3rem) scale(0.5); opacity: 0;}
    to {transform: rotate(0deg) translateY(0)  scale(1); opacity: 1;}
  }
  [data-m="scale-left"] {
    animation-name: scale-left;
    transform: rotate(10deg) translateY(3rem) scale(0.5);
    opacity: 0;
  }
  @keyframes scale-right {
    from {transform: rotate(-10deg) translateY(3rem) scale(0.5); opacity: 0;}
    to {transform: rotate(0deg) translateY(0)  scale(1); opacity: 1;}
  }
  [data-m="scale-right"] {
    animation-name: scale-right;
    transform: rotate(-10deg) translateY(3rem) scale(0.5);
    opacity: 0;
  }
  @keyframes scale-down-left {
    from {transform: rotate(10deg) translateY(-3rem) scale(0.5); opacity: 0;}
    to {transform: rotate(0deg) translateY(0)  scale(1); opacity: 1;}
  }
  [data-m="scale-down-left"] {
    animation-name: scale-down-left;
    transform: rotate(10deg) translateY(-3rem) scale(0.5);
    opacity: 0;
  }
  @keyframes scale-down-right {
    from {transform: rotate(-10deg) translateY(-3rem) scale(0.5); opacity: 0;}
    to {transform: rotate(0deg) translateY(0)  scale(1); opacity: 1;}
  }
  [data-m="scale-down-right"] {
    animation-name: scale-down-right;
    transform: rotate(-10deg) translateY(-3rem) scale(0.5);
    opacity: 0;
  }

  // Flip
  @keyframes flip {
    from {transform: perspective(2500px) rotateX(100deg);}
    to {transform: perspective(2500px) rotateX(0deg);}
  }
  [data-m="flip"] {
    @include bounce;
    animation-name: flip;
    transform: perspective(2500px) rotateX(90deg);
  }
  @keyframes flip-right {
    from {transform: perspective(2500px) rotateY(-90deg);}
    to {transform: perspective(2500px) rotateY(0deg);}
  }
  [data-m="flip-right"] {
    @include bounce;
    animation-name: flip-right;
    transform: perspective(2500px) rotateX(-90deg);
  }
  @keyframes flip-left {
    from {transform: perspective(2500px) rotateY(90deg);}
    to {transform: perspective(2500px) rotateY(0deg);}
  }
  [data-m="flip-left"] {
    @include bounce;
    animation-name: flip-left;
    transform: perspective(2500px) rotateX(90deg);
  }

  // Randoms
  @keyframes drop {
    0% {clip-path: polygon(calc(50% - 1px) 0, calc(50% + 1px) 0, calc(50% + 1px) 0, calc(50% - 1px) 0);}
    30% {clip-path: polygon(calc(50% - 1px) 0, calc(50% + 1px) 0, calc(50% + 1px) 100%, calc(50% - 1px) 100%);}
    100% {clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);}
  }
  [data-m="drop"] {
    @include bounce;
    animation-name: drop;
    clip-path: polygon(calc(50% - 1px) 0, calc(50% + 1px) 0, calc(50% + 1px) 0, calc(50% - 1px) 0);
  }

  @keyframes glitch {
    0% {font-weight: 300; clip-path: polygon(70% 0, 100% 0, 100% 100%, 70% 100%); transform: translate(5%, -5%);}
    10% {filter: invert(20%) blur(3px); opacity: 0; transform: translate(-5%, -5%);}
    20% {font-weight: 700; clip-path: polygon(0 0, 28% 0, 28% 80%, 0 100%);}
    30% {filter: invert(60%) blur(6px); opacity: 0.3; transform: translate(-5%, 5%);}
    40% {font-weight: 500; clip-path: polygon(0 63%, 100% 80%, 30% 100%, 0 100%); transform: translate(-5%, -5%);}
    50% {filter: invert(5%) blur(3px); opacity: 0.1; transform: translate(5%, 5%);}
    60% {font-weight: 400; clip-path: polygon(70% 20%, 100% 52%, 100% 100%, 70% 100%); transform: translate(5%, -5%);}
    70% {filter: invert(70%) blur(0); opacity: 0.8; transform: translate(5%, 5%);}
    80% {font-weight: 600; clip-path: polygon(0 0, 50% 0, 70% 100%, 0% 90%);}
    90% {filter: invert(100%) blur(1px); opacity: 0.5; transform: translate(5%, -5%);}
    100% {font-weight: inherit; clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%); filter: invert(0%) blur(0); opacity: 1; transform: translate(0, 0); transform: translate(0, 0);}
  }
  [data-m="glitch"] {
    animation-name: glitch;
    opacity: 0;
  }

  @keyframes blur {
    from {filter: blur(1rem);}
    to {filter: blur(0);}
  }
  [data-m="blur"] {
    animation-name: blur;
    filter: blur(1rem);
  }
}

// Generate Duration + Delay
[data-m] {
  @for $i from 1 through 100 {
    body[data-m-duration='#{$i * 0.1}'] &,
    &[data-m][data-m-duration='#{$i * 0.1}'] {
      animation-duration: #{$i * 0.1}s;
    }

    body[data-m-delay='#{$i * 0.1}'] &,
    &[data-m][data-m-delay='#{$i * 0.1}'] {
      animation-delay: #{$i * 0.1}s;
    }
  }
  @for $i from 1 through 100 {
    body[data-m-duration='#{0.25 + $i * 0.5}'] &,
    &[data-m][data-m-duration='#{0.25 + $i * 0.1}'] {
      animation-duration: #{0.25 + $i * 0.1}s;
    }

    body[data-m-delay='#{0.25 + $i * 0.1}'] &,
    &[data-m][data-m-delay='#{0.25 + $i * 0.1}'] {
      animation-delay: #{0.25 + $i * 0.1}s;
    }
  }
}